{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - Farm2Home</title>
    <link rel="stylesheet" href="{% static 'css/global-typography.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/account.css' %}">
    <link rel="stylesheet" href="{% static 'css/notifications.css' %}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <span>FARM2HOME</span>
                <span class="account-badge">ACCOUNT</span>
            </div>
            <div class="header-user">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="user-profile">
            <div class="profile-avatar" id="profileAvatar">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="profile-info">
                <h3 class="profile-name" id="profileName"><i class="fas fa-spinner fa-spin"></i></h3>
                <p class="profile-email" id="profileEmail"><i class="fas fa-spinner fa-spin"></i></p>
            </div>
        </div>

        <!-- Total Orders Card -->
        <div class="orders-card">
            <div class="orders-label">TOTAL ORDERS</div>
            <div class="orders-count" id="sidebarTotalOrders"><i class="fas fa-spinner fa-spin"></i></div>
        </div>

        <!-- Navigation Menu -->
        <nav class="sidebar-nav">
            <a href="{% url 'main:account_home' %}" class="nav-item active">
                <i class="fas fa-th-large"></i>
                <span>OVERVIEW</span>
            </a>
            <a href="{% url 'main:account_orders' %}" class="nav-item">
                <i class="fas fa-box"></i>
                <span>ORDERS</span>
            </a>
            <a href="{% url 'main:account_addresses' %}" class="nav-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>ADDRESSES</span>
            </a>
            <a href="{% url 'main:account_payment' %}" class="nav-item">
                <i class="fas fa-credit-card"></i>
                <span>PAYMENT</span>
            </a>
            <a href="{% url 'main:account_settings' %}" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>SETTINGS</span>
            </a>
        </nav>

        <!-- Logout Button -->
        <button class="logout-btn">
            <i class="fas fa-sign-out-alt"></i>
            <span>LOGOUT</span>
        </button>
    </aside>

    <!-- Main Content -->
    <div class="main-container">
        <main class="content">
            <!-- Welcome Banner -->
            <div class="welcome-banner">
                <h1 class="welcome-title" id="welcomeTitle">WELCOME BACK! ðŸ‘‹</h1>
                <p class="welcome-subtitle">HERE'S WHAT'S HAPPENING WITH YOUR ACCOUNT</p>
            </div>

            <!-- Stats Cards Row -->
            <div class="stats-row">
                <!-- Total Spent Card -->
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-receipt"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-label">TOTAL SPENT</div>
                        <div class="stat-value" id="totalSpent"><i class="fas fa-spinner fa-spin"></i></div>
                    </div>
                    <div class="stat-change" id="growthPercentage"></div>
                </div>

                <!-- Total Orders Card -->
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <i class="fas fa-box"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-label">TOTAL ORDERS</div>
                        <div class="stat-value" id="totalOrders"><i class="fas fa-spinner fa-spin"></i></div>
                    </div>
                    <div class="trend-icon">
                        <i class="fas fa-arrow-trend-up"></i>
                    </div>
                </div>
            </div>

            <!-- Recent Orders Section -->
            <div class="orders-section">
                <div class="section-header">
                    <h2 class="section-title">RECENT ORDERS</h2>
                    <a href="{% url 'main:account_orders' %}" class="view-all-link" id="viewAllOrdersBtn">
                        VIEW ALL
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <div class="orders-list" id="ordersList">
                    <div style="text-align: center; padding: 3rem 0;">
                        <i class="fas fa-spinner fa-spin" style="font-size: 2.5rem; color: #6b8e23;"></i>
                        <p style="margin-top: 1rem; color: #718096; font-size: 1rem;">Loading your orders...</p>
                    </div>
                </div>
            </div>

            <!-- Action Cards -->
            <div class="action-cards">
                <!-- Shop Card -->
                <a href="{% url 'main:catalog' %}" class="action-card shop">
                    <div class="action-card-icon">
                        <i class="fas fa-shopping-basket"></i>
                    </div>
                    <div class="action-card-label">READY TO SHOP?</div>
                    <h3 class="action-card-title">BROWSE FRESH PRODUCE</h3>
                    <div class="action-btn">
                        SHOP NOW
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>

                <!-- Support Card -->
                <a href="{% url 'main:home' %}#footerSection" class="action-card support">
                    <div class="action-card-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="action-card-label">NEED HELP?</div>
                    <h3 class="action-card-title">CONTACT SUPPORT</h3>
                    <div class="action-btn">
                        GET HELP
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
            </div>
        </main>
    </div>

    <script src="{% static 'js/notifications.js' %}"></script>
    <script src="{% static 'js/account-overview.js' %}"></script>
    <script src="{% static 'js/account.js' %}"></script>
</body>
</html>
